package server;

import java.util.HashMap;

import net.ddns.sharhar.tcp.TcpServer;
import net.ddns.sharhar.tcp.TcpServerCallback;
import utils.FileUtils;

public class Server implements TcpServerCallback{
	public static HashMap<String, String> props;
	public static TcpServer tcpServer;
	public static int port;
	
	public static void main(String[] args) {
		new Server();
	}
	
	public Server() {
		String conf = FileUtils.loadAsString("server.conf");
		
		props = new HashMap<String, String>();
		for(String line:conf.split("\n")) {
			if(!line.equals("")) {
				String[] temp = line.split(" ");
				props.put(temp[0].toUpperCase(), temp[1]);
			}
		}
		
		port = Integer.parseInt(props.get("PORT"));
		
		tcpServer = new TcpServer(port, this);
	}
	
	public void receivedData(int id, String data) {
		
	}

	public void connected(int id) {
		
	}
}
